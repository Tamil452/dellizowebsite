<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const warehouseDetails = {
          profile: {
            title: "Account details",
            isProfile: false,
            avatar: "https://via.placeholder.com/100",
            fields: [
              { label: "First Name", placeholder: "Matthew" },
              { label: "Last Name", placeholder: "Just I" },
              {
                label: "Email Address",
                placeholder: "matthew.justic@bb.agency",
              },
              { label: "Phone Number", placeholder: "Your phone number" },
              { label: "Postal Code", placeholder: "33256-1320" },
              { label: "Country", placeholder: "United Kingdom" },
            ],
          },
          subscription: {
            title: "Subscription & Billing",
            isProfile: false,
            fields: [
              {
                label: "Subscription Plan",
                type: "select",
                options: ["Basic Plan", "Pro Plan", "Enterprise Plan"],
              },
              {
                label: "Billing Cycle",
                type: "select",
                options: ["Monthly", "Quarterly", "Yearly"],
              },
              { label: "Payment Method", placeholder: "Credit Card" },
              { label: "Next Billing Date", placeholder: "09/01/2024" },
            ],
          },
          password: {
            title: "Change Password",
            isProfile: false,
            fields: [
              { label: "Current Password", placeholder: "********" },
              { label: "New Password", placeholder: "********" },
              { label: "Confirm Password", placeholder: "********" },
            ],
          },
          notifications: {
            title: "Notifications",
            isProfile: false,
            fields: [
              {
                label: "Email Notifications",
                type: "select",
                options: ["Enabled", "Disabled"],
              },
              {
                label: "SMS Notifications",
                type: "select",
                options: ["Enabled", "Disabled"],
              },
              {
                label: "Push Notifications",
                type: "select",
                options: ["Enabled", "Disabled"],
              },
            ],
          },
          archive: {
            title: "My Archive",
            isProfile: false,
            fields: [
              { label: "Archived Items", placeholder: "No items archived." },
            ],
          },
          warehouse: {
            title: "Warehouse Listings",
            isProfile: false,
            cards: [
              {
                name: "Warehouse 1",
                location: "New York",
                size: "1000 sqft",
                img: "https://via.placeholder.com/150",
              },
              {
                name: "Warehouse 2",
                location: "Los Angeles",
                size: "1500 sqft",
                img: "https://via.placeholder.com/150",
              },
              {
                name: "Warehouse 3",
                location: "Chicago",
                size: "2000 sqft",
                img: "https://via.placeholder.com/150",
              },
            ],
          },
        };

        function updateContent(type) {
          const content = warehouseDetails[type];
          document.getElementById("content-title").textContent = content.title;

          const fieldsContainer = document.getElementById("fields-container");
          fieldsContainer.innerHTML = "";

          if (content.isProfile) {
            // Handle Profile Avatar Section
            const avatarDiv = document.createElement("div");
            avatarDiv.classList.add("flex", "items-center", "mb-6");

            const img = document.createElement("img");
            img.src = content.avatar;
            img.alt = "Avatar";
            img.classList.add("rounded-full", "w-24", "h-24", "shadow-inner");

            const avatarDetailsDiv = document.createElement("div");
            avatarDetailsDiv.classList.add("ml-4");

            const uploadButton = document.createElement("button");
            uploadButton.classList.add(
              "bg-blue-600",
              "text-white",
              "px-4",
              "py-2",
              "rounded-md"
            );
            uploadButton.textContent = "Upload new";

            const recommendationText = document.createElement("p");
            recommendationText.classList.add(
              "text-gray-600",
              "text-sm",
              "mt-2"
            );
            recommendationText.textContent = "600x600 or larger recommended";

            avatarDetailsDiv.appendChild(uploadButton);
            avatarDetailsDiv.appendChild(recommendationText);

            avatarDiv.appendChild(img);
            avatarDiv.appendChild(avatarDetailsDiv);

            fieldsContainer.appendChild(avatarDiv);
          }

          if (content.cards) {
            // Handle Warehouse Cards
            const addWarehouseButton = document.createElement("button");
            addWarehouseButton.classList.add(
              "bg-blue-600",
              "text-white",
              "px-4",
              "py-2",
              "rounded-md",
              "mb-6"
            );
            addWarehouseButton.textContent = "Add Warehouse";
            addWarehouseButton.addEventListener("click", function () {
              showWarehouseForm();
            });

            fieldsContainer.appendChild(addWarehouseButton);

            const gridContainer = document.createElement("div");
            gridContainer.classList.add("grid", "grid-cols-3", "gap-6");

            content.cards.forEach((card, index) => {
              const cardDiv = document.createElement("div");
              cardDiv.classList.add(
                "bg-white",
                "shadow-lg",
                "rounded-lg",
                "overflow-hidden",
                "transform",
                "transition-transform",
                "hover:scale-105"
              );

              const cardImg = document.createElement("img");
              cardImg.src = card.img;
              cardImg.alt = card.name;
              cardImg.classList.add("w-full", "h-32", "object-cover");

              const cardBody = document.createElement("div");
              cardBody.classList.add("p-4");

              const cardTitle = document.createElement("h3");
              cardTitle.classList.add(
                "text-lg",
                "font-semibold",
                "text-gray-800"
              );
              cardTitle.textContent = card.name;

              const cardLocation = document.createElement("p");
              cardLocation.classList.add("text-gray-600", "text-sm");
              cardLocation.textContent = `Location: ${card.location}`;

              const cardSize = document.createElement("p");
              cardSize.classList.add("text-gray-600", "text-sm");
              cardSize.textContent = `Size: ${card.size}`;

              const showHideButton = document.createElement("button");
              showHideButton.classList.add(
                "bg-blue-600",
                "text-white",
                "px-4",
                "py-2",
                "rounded-md",
                "mt-4"
              );
              showHideButton.textContent = "Show Details";
              showHideButton.addEventListener("click", function () {
                const detailDiv = cardDiv.querySelector(".detail");
                if (detailDiv) {
                  detailDiv.classList.toggle("hidden");
                  showHideButton.textContent = detailDiv.classList.contains(
                    "hidden"
                  )
                    ? "Show Details"
                    : "Hide Details";
                }
              });

              const detailDiv = document.createElement("div");
              detailDiv.classList.add("detail", "hidden", "mt-4");
              detailDiv.classList.add("text-gray-700");

              const detailLink = document.createElement("a");
              detailLink.href = `warehouse-details.html?id=${index}`;
              detailLink.textContent = "View Details";
              detailLink.classList.add("text-blue-500", "underline");

              detailDiv.appendChild(detailLink);

              cardBody.appendChild(cardTitle);
              cardBody.appendChild(cardLocation);
              cardBody.appendChild(cardSize);
              cardBody.appendChild(showHideButton);
              cardBody.appendChild(detailDiv);

              cardDiv.appendChild(cardImg);
              cardDiv.appendChild(cardBody);

              gridContainer.appendChild(cardDiv);
            });

            fieldsContainer.appendChild(gridContainer);
          } else if (content.password) {
            // Handle Password Fields with Show/Hide Icon
            const gridContainer = document.createElement("div");
            gridContainer.classList.add("grid", "grid-cols-1", "gap-6");

            content.fields.forEach((field) => {
              const fieldDiv = document.createElement("div");
              fieldDiv.classList.add("relative", "mb-4");

              const label = document.createElement("label");
              label.classList.add(
                "block",
                "text-gray-800",
                "font-semibold",
                "my-2"
              );
              label.textContent = field.label;

              const inputContainer = document.createElement("div");
              inputContainer.classList.add("relative");

              const input = document.createElement("input");
              input.type = "password";
              input.placeholder = field.placeholder;
              input.classList.add(
                "w-full",
                "px-4",
                "py-2",
                "rounded-md",
                "bg-gray-200",
                "text-gray-800",
                "focus:outline-none",
                "focus:ring-2",
                "focus:ring-blue-500",
                "focus:border-transparent"
              );

              const icon = document.createElement("i");
              icon.classList.add(
                "fas",
                "fa-eye",
                "absolute",
                "right-4",
                "top-2.5",
                "text-gray-500",
                "cursor-pointer"
              );
              icon.addEventListener("click", function () {
                if (input.type === "password") {
                  input.type = "text";
                  icon.classList.replace("fa-eye", "fa-eye-slash");
                } else {
                  input.type = "password";
                  icon.classList.replace("fa-eye-slash", "fa-eye");
                }
              });

              inputContainer.appendChild(input);
              inputContainer.appendChild(icon);

              fieldDiv.appendChild(label);
              fieldDiv.appendChild(inputContainer);

              fieldsContainer.appendChild(fieldDiv);
            });
          } else {
            content.fields.forEach((field) => {
              const fieldDiv = document.createElement("div");
              fieldDiv.classList.add("mb-4");

              const label = document.createElement("label");
              label.classList.add(
                "block",
                "text-gray-800",
                "font-semibold",
                "my-2"
              );
              label.textContent = field.label;

              if (field.type === "select") {
                const select = document.createElement("select");
                select.classList.add(
                  "w-full",
                  "px-4",
                  "py-2",
                  "rounded-md",
                  "bg-gray-200",
                  "text-gray-800",
                  "focus:outline-none",
                  "focus:ring-2",
                  "focus:ring-blue-500",
                  "focus:border-transparent"
                );

                field.options.forEach((option) => {
                  const optionElement = document.createElement("option");
                  optionElement.textContent = option;
                  select.appendChild(optionElement);
                });

                fieldDiv.appendChild(label);
                fieldDiv.appendChild(select);
              } else {
                const input = document.createElement("input");
                input.type = "text";
                input.placeholder = field.placeholder;
                input.classList.add(
                  "w-full",
                  "px-4",
                  "py-2",
                  "rounded-md",
                  "bg-gray-200",
                  "text-gray-800",
                  "focus:outline-none",
                  "focus:ring-2",
                  "focus:ring-blue-500",
                  "focus:border-transparent"
                );

                fieldDiv.appendChild(label);
                fieldDiv.appendChild(input);
              }

              fieldsContainer.appendChild(fieldDiv);
            });
          }
        }

        // Handle Initial Profile Load
        updateContent("profile");

        // Handle Menu Item Clicks
        document.querySelectorAll(".menu-item").forEach((menuItem) => {
          menuItem.addEventListener("click", function () {
            document
              .querySelectorAll(".menu-item")
              .forEach((item) =>
                item.classList.remove("bg-blue-600", "text-white")
              );
            menuItem.classList.add("bg-blue-600", "text-white");

            const type = menuItem.getAttribute("data-type");
            updateContent(type);
          });
        });

        // Handle Warehouse Form Display

        function showWarehouseForm() {
          const fieldsContainer = document.getElementById("fields-container");

          // Clear any previous content
          fieldsContainer.innerHTML = "";

          // Fetch the external HTML file and inject it into the container
          fetch("addWarehouse.html")
            .then((response) => {
              if (!response.ok) {
                throw new Error("Failed to load the form");
              }
              return response.text();
            })
            .then((html) => {
              // Insert the fetched HTML into the fields container
              fieldsContainer.innerHTML = html;

              // Extract and execute scripts within the fetched HTML
              const scripts = fieldsContainer.querySelectorAll("script");
              scripts.forEach((script) => {
                const newScript = document.createElement("script");
                if (script.src) {
                  newScript.src = script.src; // External script
                } else {
                  newScript.textContent = script.textContent; // Inline script
                }
                document.body.appendChild(newScript); // Append and execute the script
              });
            })
            .catch((error) => {
              console.error("Error loading the form:", error);
            });
        }
      });
    </script>
  </head>

  <body class="bg-gray-100">
    <!-- Header -->
    <nav class="bg-blue-100 border-gray-200">
      <div
        class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"
      >
        <!-- Left Logo Section -->
        <a href="#" class="flex items-center">
          <img
            src="https://flowbite.com/docs/images/logo.svg"
            class="h-8"
            alt="Flowbite Logo"
          />
          <span
            class="self-center text-2xl font-semibold px-3 whitespace-nowrap"
            >Dellizo</span
          >
        </a>

        <!-- Center Navigation Links -->
        <div class="hidden md:flex items-center space-x-8">
          <a href="index.html" class="text-gray-700 hover:text-blue-500">Home</a>
          <a href="addWarehouse.html" class="text-gray-700 hover:text-blue-500">Warehouses</a>
          <a href="overview.html" class="text-gray-700 hover:text-blue-500">Bookings</a>
          <a href="index.html" class="text-gray-700 hover:text-blue-500">Contact</a>
        </div>

        <!-- Right Profile Section -->
        <div class="flex items-center md:order-2 space-x-4">
          <!-- Profile picture with dropdown -->
          <div class="relative">
            <button
              type="button"
              class="flex items-center space-x-3 rounded-full focus:outline-none"
              id="profile-menu-button"
              aria-expanded="false"
              data-dropdown-toggle="profile-dropdown"
            >
              <img
                src="https://i.pravatar.cc/40"
                class="w-10 h-10 rounded-full"
                alt="Profile"
              />
              <span class="text-gray-900">John Doe</span>
            </button>

            <!-- Dropdown menu -->
            <div
              id="profile-dropdown"
              class="z-10 hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg"
            >
              <ul class="py-2 text-sm text-gray-700">
                <li>
                  <a href="overview.html" class="block px-4 py-2 hover:bg-gray-100"
                    >Dashboard</a
                  >
                </li>
                <li>
                  <a href="inbox.html" class="block px-4 py-2 hover:bg-gray-100"
                    >My Inbox</a
                  >
                </li>
                <li>
                  <a href="dashboard.html" class="block px-4 py-2 hover:bg-gray-100"
                    >Profile</a
                  >
                </li>
                <li><hr class="border-t border-gray-200" /></li>
                <li>
                  <a
                    href="login.html"
                    class="block px-4 py-2 text-red-600 hover:bg-gray-100"
                    >Logout</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <script>
      // Toggle dropdown visibility
      document
        .getElementById("profile-menu-button")
        .addEventListener("click", function () {
          const dropdown = document.getElementById("profile-dropdown");
          dropdown.classList.toggle("hidden");
        });
    </script>

    <div class="container mx-auto px-6 py-12">
      <div class="grid grid-cols-12 gap-8">
        <!-- Sidebar -->
        <div class="col-span-3 bg-blue-50 shadow-lg rounded-lg p-4">
          <h2 class="text-2xl font-semibold text-gray-800 mb-6">Dashboard</h2>
          <ul class="space-y-4">
            <!-- <li
              class="menu-item bg-blue-600 text-white p-2 rounded-lg cursor-pointer"
              data-type="overview"
            >
              Overview
            </li> -->
            <li
              class="menu-item p-2 rounded-lg cursor-pointer"
              data-type="profile"
            >
              Profile
            </li>
            <li
              class="menu-item p-2 rounded-lg cursor-pointer"
              data-type="subscription"
            >
              Subscription & Billing
            </li>
            <li
              class="menu-item p-2 rounded-lg cursor-pointer"
              data-type="password"
            >
              Change Password
            </li>
            <li
              class="menu-item p-2 rounded-lg cursor-pointer"
              data-type="notifications"
            >
              Notifications
            </li>
            <li
              class="menu-item p-2 rounded-lg cursor-pointer"
              data-type="archive"
            >
              My Archive
            </li>
            <li
              class="menu-item p-2 rounded-lg cursor-pointer"
              data-type="warehouse"
            >
              Warehouse Listings
            </li>
          </ul>
        </div>

        <!-- Content -->
        <div class="col-span-9 bg-white shadow-lg rounded-lg p-8">
          <h2
            id="content-title"
            class="text-xl font-semibold text-gray-800 mb-6"
          >
            Content Title
          </h2>
          <div id="fields-container"></div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-blue-100 text-black py-6 mt-10">
      <div class="container mx-auto px-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <!-- Column 1: Dellizo Warehouse Info -->
          <div class="text-center px-10 md:text-left">
            <h4 class="text-lg font-bold mb-4">Dellizo Warehouse</h4>
            <p class="text-black">
              Your go-to platform for seamless warehouse bookings and
              management.
            </p>
          </div>

          <!-- Column 2: Contact Us -->
          <div class="text-center px-10 md:text-right">
            <h4 class="text-lg font-bold mb-4">Contact Us</h4>
            <p class="text-black">Email: info@dellizo.com</p>
            <p class="text-black">Phone: +91 12345 67890</p>
          </div>
        </div>

        <!-- Footer Bottom -->
        <div class="text-center text-gray-500 mt-6">
          <p>&copy; 2024 Dellizo Warehouse. All Rights Reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>
